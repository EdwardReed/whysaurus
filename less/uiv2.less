@import "variables.less"; // Modify this for custom colors, font-sizes, etc

// Positioning Grid setup
@cardWidth: 400px;
@indent: 15px;
@cardListWidth: @cardWidth + ( 4 * @indent);

@cardPadding: 12px;
@cardPaddingTop: @cardPadding * .75;

@marginVerticalStandard: 16px;
@marginVerticalSmall: 12px;


@smallGreyLinkColor: #a9a9a9;
@smallGreyLinkSize: 12px;


.row-fluid [class*=span] {
	min-height: auto;
}

a:hover {
    color: @blue ;
}

.dropdown-menu>li>a {
    padding-top:3px;
    padding-right:20px;
    padding-bottom: 3px;
    padding-left:3px;
}

// BG Pattern
//
// B/W version
@bgColor: white;
@bgGridColor: #f7f7f7;
@bgGridWidth: 6px;
@bgGridStroke: 2px;
body {
	background-color: @bgColor;
	background-size: @bgGridWidth @bgGridWidth;
    background-image: linear-gradient(to right, @bgGridColor @bgGridStroke, transparent @bgGridStroke), 
	                  linear-gradient(to bottom, @bgGridColor @bgGridStroke, transparent @bgGridStroke);
}
// BLUE version
/*
@bgColor: #F3FCFF;
@bgGridColor: #E1F6FF;
@bgGridWidth: 4px;
@bgGridStroke: 2px;
#header {
	background-color: #cff1fc;
}
*/
//////////////////////////////////


.pointStream {
	margin-top: 2 * @marginVerticalStandard;
	margin-left: 0;
	margin-bottom: 60px;
}

.pointCardGroup {
}

.point-card {
	//background-color: red;
	display: flex; 
	//-webkit-flex: 1; /* Safari 6.1+ */
    //-ms-flex: 1;
	width: @cardWidth;
	border-width: 1px;
    border-color: #b9bbbd;
    border-style: solid;
	margin-bottom: @marginVerticalStandard;
	background-color: white;
	padding: @cardPadding;
	padding-top: @cardPaddingTop;
	padding-bottom: @cardPaddingTop;

}

.point-card {
  &.support {
    //border: 1px gray solid;
  }
  &.oppose {
    border: 1px red solid;
  }
  &.root {
    border: 1px black solid;
  }
}

.point-card:hover {
    background-color: #fafafa; //white; // #f6fdff; //rgb(244, 253, 255);
}

// red styling on CPs
.point-card.counter {
	border-color: #f6a3a3 ;
}
.point-card.counter:hover {
	background-color: #fff7fb ;
}


.relevanceDisplay {
	position: relative;
	margin-left: @cardPadding;
	margin-bottom: 3px;
	width: 100%;
}

.relVoteGroup {
	position: relative;
	display: block;
	width: @cardWidth - 30px;
    top: 2px; // not sure why this is nec
	margin-bottom: 0px;
	margin-left: 12px;
	padding: 0px
}

.relVoteLink {
	margin-left: 8px;
}

.fullWidthContent {
	//padding-right: 12px;
}

.cardTopRow {
    font-size: @smallGreyLinkSize;
    color: @smallGreyLinkColor;
	margin-bottom: 5px;
}

.cardTopRowItem {
	margin-right: 10px;
}

.iconWithStat {
	margin-right: 2px;
}

.byline {
	width: inherit;
	float: none;
}

.byline:hover {
	//color: @grayTextLighter;
}

.moreMenu {
	color: @grayTextLighter;
	font-weight: bold;
}
.moreMenu:hover {
	text-decoration:none;
}


.pointText {
	margin-bottom: @marginVerticalSmall + 2px;
	padding-right: 2%;
}

.pointTitle {
	color: black;
	//font-size: @fontSizeMedium; // @fontSizeBitLarge;
    font-weight:500; // using the "Book" weight of Meta, from TypeKit
	line-height: @lineHeightBigger;
    letter-spacing: @letterSpacingSubtle;	
	//margin-bottom: 17px; 
    //padding-left: 1px;
    //padding-right:4px;
}

.editLink {
	padding-left: 4px;
	padding-right: 4px;
	font-size: @smallGreyLinkSize;
    color: @smallGreyLinkColor !important;
	//font-style: italic;
}

.vote-stats {
    background: white;
    border: 1px black solid;
	width: 120px;
    position: relative;
    left: -6px;
    top: 24px;
}

.vote-stats p{
	padding: 4px;
	margin-bottom:4px;
}

.pointCardImageContainer {
	//display: flex;   
	//-webkit-flex: 1; /* Safari 6.1+ */
    //-ms-flex: 1;  /* IE 10 */ 
	//background-color: blue;
	//padding-top: @cardPadding - @cardPaddingTop;

}

.pointCardImage {
	height: 100%;
    width: 100%;
	object-fit: cover;
}

.sources {
	margin-bottom: 5px;
}

.source a {
	//padding-left: 4px;
	//padding-right: 4px;
	font-size: @smallGreyLinkSize;
    color: @smallGreyLinkColor; // !important;
	//font-style: italic;
}


.cardBottomAction {
	font-size: @fontSizeActions;
    color: @grayTextLighter ;  /*@blue ;*/
    /*font-weight: bold;*/
	//margin-bottom:2px;
	margin-right: 12px;
    //margin-right:4px; 
    margin-top:4px;
    display:inline-block;
    z-index:1000;
    font-weight: bold
}

.point-card:hover .cardBottomAction {
    color: @blue ;
}

.cardBottomActionRow {
	margin-top: 5px;
  -o-transition:.08s;
  -ms-transition:.08s;
  -moz-transition:.08s;
  -webkit-transition:.08s;
  /* ...and now for the proper property */
  transition:.08s;
  transform-origin: bottom left;
}


.point-card:hover .cardBottomActionRow {
    transform: scale(1.085) ;
}


.evidenceContainer {
    display: inline-block;	
	// fixed width for roll-over method of switching from No Evidence to Add Evidence, but unnecessary with the scaling approach
    //width: 97px;
}

.agree {
	//margin-right: 6px;
}

.disagree {
	margin-right: 24px;
}


// ANIMATION

@keyframes makeSpaceForEvidence {
    from {height: 20px;  }
    to {height:200px; }
}

.animateSiblingsDown {
	//animation-name: makeSpaceForEvidence;
    //animation-duration: 1s;
	//animation-iteration-count: 1;
}

//for testing animation
.animPink {
	background: pink !important;
}


/* The animation code */
@keyframes evidenceBlockReveal {
   0% { max-height: 20px; opacity: 0;  }
   40% { opacity: 0; transform: scaleY(.5); }
   80% {  max-height: 500px; transform: scaleY(1) }
   100% { max-height: 5000px; opacity: 1; }
}

.evidenceBlock {
	display: inline-block;
	transform-origin: top left;
	animation-name: evidenceBlockReveal;
    animation-duration: .3s;
	animation-timing-function: ease;
	//animation-timing-function: ease-out;
	animation-iteration-count: 1;
	background-color: #0000ff50;
}

.supportHeading, .counterHeading {
	margin-bottom: 12px;
	margin-left: 8px;
}


.evidenceBlockCounter, .evidenceBlockSupport {
	display: inline-block;
	float: left;
	width: @cardListWidth;
}


.evidenceList {
	margin-left: @indent;
}



.addEvidenceButton {
	margin-bottom: @marginVerticalStandard;
	margin-top: 6px;
}

.fullWidth {
	width: 100%;
}

.hover {
    position: relative;
	cursor:pointer;

    &:hover &__no-hover {
        //opacity: 0;
		text-decoration:underline;
    }

    &:hover &__hover {
        opacity: 1;
		transform: scale(1); // undos the scale(0) in &__hover below
    }

    &__hover {
        position: absolute;
        top: 0;
        opacity: 0;
		transform: scale(0); // this prevents hover being activated by mousing over the invisible menu, there might be a more official way to do this? -JF
    }

    &__no-hover {
        opacity: 1;
    }
}

.point-card .agree.current-vote {
    color: green;
}

.point-card .disagree.current-vote {
    color: red;
}




// RESPONSIVE -- TO DO: move this to a separate css file

@media (max-width: 767px) {

  .point-card {
	//background-color: red;
	display: inline-block;
  }
  
  .pointCardImage {
	margin-top: 4px;
  }

}